{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar React = require(\"react\");\nvar react_native_1 = require(\"react-native-web/dist/index\");\nvar image_zoom_style_1 = require(\"./image-zoom.style\");\nvar image_zoom_type_1 = require(\"./image-zoom.type\");\nvar ImageViewer = function (_super) {\n  __extends(ImageViewer, _super);\n  function ImageViewer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = new image_zoom_type_1.ImageZoomState();\n    _this.lastPositionX = null;\n    _this.positionX = 0;\n    _this.animatedPositionX = new react_native_1.Animated.Value(0);\n    _this.lastPositionY = null;\n    _this.positionY = 0;\n    _this.animatedPositionY = new react_native_1.Animated.Value(0);\n    _this.scale = 1;\n    _this.animatedScale = new react_native_1.Animated.Value(1);\n    _this.zoomLastDistance = null;\n    _this.zoomCurrentDistance = 0;\n    _this.lastTouchStartTime = 0;\n    _this.horizontalWholeOuterCounter = 0;\n    _this.swipeDownOffset = 0;\n    _this.horizontalWholeCounter = 0;\n    _this.verticalWholeCounter = 0;\n    _this.centerDiffX = 0;\n    _this.centerDiffY = 0;\n    _this.lastClickTime = 0;\n    _this.doubleClickX = 0;\n    _this.doubleClickY = 0;\n    _this.isDoubleClick = false;\n    _this.isLongPress = false;\n    _this.isHorizontalWrap = false;\n    _this.imagePanResponder = react_native_1.PanResponder.create({\n      onStartShouldSetPanResponder: _this.props.onStartShouldSetPanResponder,\n      onPanResponderTerminationRequest: _this.props.onPanResponderTerminationRequest,\n      onMoveShouldSetPanResponder: _this.props.onMoveShouldSetPanResponder,\n      onPanResponderGrant: function onPanResponderGrant(evt) {\n        _this.lastPositionX = null;\n        _this.lastPositionY = null;\n        _this.zoomLastDistance = null;\n        _this.horizontalWholeCounter = 0;\n        _this.verticalWholeCounter = 0;\n        _this.lastTouchStartTime = new Date().getTime();\n        _this.isDoubleClick = false;\n        _this.isLongPress = false;\n        _this.isHorizontalWrap = false;\n        if (_this.singleClickTimeout) {\n          clearTimeout(_this.singleClickTimeout);\n        }\n        if (evt.nativeEvent.changedTouches.length > 1) {\n          var centerX = (evt.nativeEvent.changedTouches[0].pageX + evt.nativeEvent.changedTouches[1].pageX) / 2;\n          _this.centerDiffX = centerX - _this.props.cropWidth / 2;\n          var centerY = (evt.nativeEvent.changedTouches[0].pageY + evt.nativeEvent.changedTouches[1].pageY) / 2;\n          _this.centerDiffY = centerY - _this.props.cropHeight / 2;\n        }\n        if (_this.longPressTimeout) {\n          clearTimeout(_this.longPressTimeout);\n        }\n        var _a = evt.nativeEvent,\n          locationX = _a.locationX,\n          locationY = _a.locationY,\n          pageX = _a.pageX,\n          pageY = _a.pageY;\n        _this.longPressTimeout = setTimeout(function () {\n          _this.isLongPress = true;\n          if (_this.props.onLongPress) {\n            _this.props.onLongPress({\n              locationX: locationX,\n              locationY: locationY,\n              pageX: pageX,\n              pageY: pageY\n            });\n          }\n        }, _this.props.longPressTime);\n        if (evt.nativeEvent.changedTouches.length <= 1) {\n          if (new Date().getTime() - _this.lastClickTime < (_this.props.doubleClickInterval || 0)) {\n            _this.lastClickTime = 0;\n            _this.doubleClickX = evt.nativeEvent.changedTouches[0].pageX;\n            _this.doubleClickY = evt.nativeEvent.changedTouches[0].pageY;\n            if (_this.props.onDoubleClick) {\n              _this.props.onDoubleClick({\n                locationX: evt.nativeEvent.changedTouches[0].locationX,\n                locationY: evt.nativeEvent.changedTouches[0].locationY,\n                pageX: _this.doubleClickX,\n                pageY: _this.doubleClickY\n              });\n            }\n            clearTimeout(_this.longPressTimeout);\n            _this.isDoubleClick = true;\n            if (_this.props.enableDoubleClickZoom) {\n              if (_this.scale > 1 || _this.scale < 1) {\n                _this.scale = 1;\n                _this.positionX = 0;\n                _this.positionY = 0;\n              } else {\n                var beforeScale = _this.scale;\n                _this.scale = 2;\n                var diffScale = _this.scale - beforeScale;\n                _this.positionX = (_this.props.cropWidth / 2 - _this.doubleClickX) * diffScale / _this.scale;\n                _this.positionY = (_this.props.cropHeight / 2 - _this.doubleClickY) * diffScale / _this.scale;\n              }\n              _this.imageDidMove('centerOn');\n              react_native_1.Animated.parallel([react_native_1.Animated.timing(_this.animatedScale, {\n                toValue: _this.scale,\n                duration: 100,\n                useNativeDriver: !!_this.props.useNativeDriver\n              }), react_native_1.Animated.timing(_this.animatedPositionX, {\n                toValue: _this.positionX,\n                duration: 100,\n                useNativeDriver: !!_this.props.useNativeDriver\n              }), react_native_1.Animated.timing(_this.animatedPositionY, {\n                toValue: _this.positionY,\n                duration: 100,\n                useNativeDriver: !!_this.props.useNativeDriver\n              })]).start();\n            }\n          } else {\n            _this.lastClickTime = new Date().getTime();\n          }\n        }\n      },\n      onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n        if (_this.isDoubleClick) {\n          return;\n        }\n        if (evt.nativeEvent.changedTouches.length <= 1) {\n          var diffX = gestureState.dx - (_this.lastPositionX || 0);\n          if (_this.lastPositionX === null) {\n            diffX = 0;\n          }\n          var diffY = gestureState.dy - (_this.lastPositionY || 0);\n          if (_this.lastPositionY === null) {\n            diffY = 0;\n          }\n          _this.lastPositionX = gestureState.dx;\n          _this.lastPositionY = gestureState.dy;\n          _this.horizontalWholeCounter += diffX;\n          _this.verticalWholeCounter += diffY;\n          if (Math.abs(_this.horizontalWholeCounter) > 5 || Math.abs(_this.verticalWholeCounter) > 5) {\n            clearTimeout(_this.longPressTimeout);\n          }\n          if (_this.props.panToMove) {\n            if (_this.swipeDownOffset === 0) {\n              if (Math.abs(diffX) > Math.abs(diffY)) {\n                _this.isHorizontalWrap = true;\n              }\n              if (_this.props.imageWidth * _this.scale > _this.props.cropWidth) {\n                if (_this.horizontalWholeOuterCounter > 0) {\n                  if (diffX < 0) {\n                    if (_this.horizontalWholeOuterCounter > Math.abs(diffX)) {\n                      _this.horizontalWholeOuterCounter += diffX;\n                      diffX = 0;\n                    } else {\n                      diffX += _this.horizontalWholeOuterCounter;\n                      _this.horizontalWholeOuterCounter = 0;\n                      if (_this.props.horizontalOuterRangeOffset) {\n                        _this.props.horizontalOuterRangeOffset(0);\n                      }\n                    }\n                  } else {\n                    _this.horizontalWholeOuterCounter += diffX;\n                  }\n                } else if (_this.horizontalWholeOuterCounter < 0) {\n                  if (diffX > 0) {\n                    if (Math.abs(_this.horizontalWholeOuterCounter) > diffX) {\n                      _this.horizontalWholeOuterCounter += diffX;\n                      diffX = 0;\n                    } else {\n                      diffX += _this.horizontalWholeOuterCounter;\n                      _this.horizontalWholeOuterCounter = 0;\n                      if (_this.props.horizontalOuterRangeOffset) {\n                        _this.props.horizontalOuterRangeOffset(0);\n                      }\n                    }\n                  } else {\n                    _this.horizontalWholeOuterCounter += diffX;\n                  }\n                } else {}\n                _this.positionX += diffX / _this.scale;\n                var horizontalMax = (_this.props.imageWidth * _this.scale - _this.props.cropWidth) / 2 / _this.scale;\n                if (_this.positionX < -horizontalMax) {\n                  _this.positionX = -horizontalMax;\n                  _this.horizontalWholeOuterCounter += -1 / 1e10;\n                } else if (_this.positionX > horizontalMax) {\n                  _this.positionX = horizontalMax;\n                  _this.horizontalWholeOuterCounter += 1 / 1e10;\n                }\n                _this.animatedPositionX.setValue(_this.positionX);\n              } else {\n                _this.horizontalWholeOuterCounter += diffX;\n              }\n              if (_this.horizontalWholeOuterCounter > (_this.props.maxOverflow || 0)) {\n                _this.horizontalWholeOuterCounter = _this.props.maxOverflow || 0;\n              } else if (_this.horizontalWholeOuterCounter < -(_this.props.maxOverflow || 0)) {\n                _this.horizontalWholeOuterCounter = -(_this.props.maxOverflow || 0);\n              }\n              if (_this.horizontalWholeOuterCounter !== 0) {\n                if (_this.props.horizontalOuterRangeOffset) {\n                  _this.props.horizontalOuterRangeOffset(_this.horizontalWholeOuterCounter);\n                }\n              }\n            }\n            if (_this.props.imageHeight * _this.scale > _this.props.cropHeight) {\n              _this.positionY += diffY / _this.scale;\n              _this.animatedPositionY.setValue(_this.positionY);\n            } else {\n              if (_this.props.enableSwipeDown && !_this.isHorizontalWrap) {\n                _this.swipeDownOffset += diffY;\n                if (_this.swipeDownOffset > 0) {\n                  _this.positionY += diffY / _this.scale;\n                  _this.animatedPositionY.setValue(_this.positionY);\n                  _this.scale = _this.scale - diffY / 1000;\n                  _this.animatedScale.setValue(_this.scale);\n                }\n              }\n            }\n          }\n        } else {\n          if (_this.longPressTimeout) {\n            clearTimeout(_this.longPressTimeout);\n          }\n          if (_this.props.pinchToZoom) {\n            var minX = void 0;\n            var maxX = void 0;\n            if (evt.nativeEvent.changedTouches[0].locationX > evt.nativeEvent.changedTouches[1].locationX) {\n              minX = evt.nativeEvent.changedTouches[1].pageX;\n              maxX = evt.nativeEvent.changedTouches[0].pageX;\n            } else {\n              minX = evt.nativeEvent.changedTouches[0].pageX;\n              maxX = evt.nativeEvent.changedTouches[1].pageX;\n            }\n            var minY = void 0;\n            var maxY = void 0;\n            if (evt.nativeEvent.changedTouches[0].locationY > evt.nativeEvent.changedTouches[1].locationY) {\n              minY = evt.nativeEvent.changedTouches[1].pageY;\n              maxY = evt.nativeEvent.changedTouches[0].pageY;\n            } else {\n              minY = evt.nativeEvent.changedTouches[0].pageY;\n              maxY = evt.nativeEvent.changedTouches[1].pageY;\n            }\n            var widthDistance = maxX - minX;\n            var heightDistance = maxY - minY;\n            var diagonalDistance = Math.sqrt(widthDistance * widthDistance + heightDistance * heightDistance);\n            _this.zoomCurrentDistance = Number(diagonalDistance.toFixed(1));\n            if (_this.zoomLastDistance !== null) {\n              var distanceDiff = (_this.zoomCurrentDistance - _this.zoomLastDistance) / 200;\n              var zoom = _this.scale + distanceDiff;\n              if (zoom < (_this.props.minScale || 0)) {\n                zoom = _this.props.minScale || 0;\n              }\n              if (zoom > (_this.props.maxScale || 0)) {\n                zoom = _this.props.maxScale || 0;\n              }\n              var beforeScale = _this.scale;\n              _this.scale = zoom;\n              _this.animatedScale.setValue(_this.scale);\n              var diffScale = _this.scale - beforeScale;\n              _this.positionX -= _this.centerDiffX * diffScale / _this.scale;\n              _this.positionY -= _this.centerDiffY * diffScale / _this.scale;\n              _this.animatedPositionX.setValue(_this.positionX);\n              _this.animatedPositionY.setValue(_this.positionY);\n            }\n            _this.zoomLastDistance = _this.zoomCurrentDistance;\n          }\n        }\n        _this.imageDidMove('onPanResponderMove');\n      },\n      onPanResponderRelease: function onPanResponderRelease(evt, gestureState) {\n        if (_this.longPressTimeout) {\n          clearTimeout(_this.longPressTimeout);\n        }\n        if (_this.isDoubleClick) {\n          return;\n        }\n        if (_this.isLongPress) {\n          return;\n        }\n        var moveDistance = Math.sqrt(gestureState.dx * gestureState.dx + gestureState.dy * gestureState.dy);\n        var _a = evt.nativeEvent,\n          locationX = _a.locationX,\n          locationY = _a.locationY,\n          pageX = _a.pageX,\n          pageY = _a.pageY;\n        if (evt.nativeEvent.changedTouches.length === 1 && moveDistance < (_this.props.clickDistance || 0)) {\n          _this.singleClickTimeout = setTimeout(function () {\n            if (_this.props.onClick) {\n              _this.props.onClick({\n                locationX: locationX,\n                locationY: locationY,\n                pageX: pageX,\n                pageY: pageY\n              });\n            }\n          }, _this.props.doubleClickInterval);\n        } else {\n          if (_this.props.responderRelease) {\n            _this.props.responderRelease(gestureState.vx, _this.scale);\n          }\n          _this.panResponderReleaseResolve();\n        }\n      },\n      onPanResponderTerminate: function onPanResponderTerminate() {}\n    });\n    _this.resetScale = function () {\n      _this.positionX = 0;\n      _this.positionY = 0;\n      _this.scale = 1;\n      _this.animatedScale.setValue(1);\n    };\n    _this.panResponderReleaseResolve = function () {\n      if (_this.props.enableSwipeDown && _this.props.swipeDownThreshold) {\n        if (_this.swipeDownOffset > _this.props.swipeDownThreshold) {\n          if (_this.props.onSwipeDown) {\n            _this.props.onSwipeDown();\n          }\n          return;\n        }\n      }\n      if (_this.props.enableCenterFocus && _this.scale < 1) {\n        _this.scale = 1;\n        react_native_1.Animated.timing(_this.animatedScale, {\n          toValue: _this.scale,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n      }\n      if (_this.props.imageWidth * _this.scale <= _this.props.cropWidth) {\n        _this.positionX = 0;\n        react_native_1.Animated.timing(_this.animatedPositionX, {\n          toValue: _this.positionX,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n      }\n      if (_this.props.imageHeight * _this.scale <= _this.props.cropHeight) {\n        _this.positionY = 0;\n        react_native_1.Animated.timing(_this.animatedPositionY, {\n          toValue: _this.positionY,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n      }\n      if (_this.props.imageHeight * _this.scale > _this.props.cropHeight) {\n        var verticalMax = (_this.props.imageHeight * _this.scale - _this.props.cropHeight) / 2 / _this.scale;\n        if (_this.positionY < -verticalMax) {\n          _this.positionY = -verticalMax;\n        } else if (_this.positionY > verticalMax) {\n          _this.positionY = verticalMax;\n        }\n        react_native_1.Animated.timing(_this.animatedPositionY, {\n          toValue: _this.positionY,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n      }\n      if (_this.props.imageWidth * _this.scale > _this.props.cropWidth) {\n        var horizontalMax = (_this.props.imageWidth * _this.scale - _this.props.cropWidth) / 2 / _this.scale;\n        if (_this.positionX < -horizontalMax) {\n          _this.positionX = -horizontalMax;\n        } else if (_this.positionX > horizontalMax) {\n          _this.positionX = horizontalMax;\n        }\n        react_native_1.Animated.timing(_this.animatedPositionX, {\n          toValue: _this.positionX,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n      }\n      if (_this.props.enableCenterFocus && _this.scale === 1) {\n        _this.positionX = 0;\n        _this.positionY = 0;\n        react_native_1.Animated.timing(_this.animatedPositionX, {\n          toValue: _this.positionX,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n        react_native_1.Animated.timing(_this.animatedPositionY, {\n          toValue: _this.positionY,\n          duration: 100,\n          useNativeDriver: !!_this.props.useNativeDriver\n        }).start();\n      }\n      _this.horizontalWholeOuterCounter = 0;\n      _this.swipeDownOffset = 0;\n      _this.imageDidMove('onPanResponderRelease');\n    };\n    return _this;\n  }\n  ImageViewer.prototype.componentDidMount = function () {\n    if (this.props.centerOn) {\n      this.centerOn(this.props.centerOn);\n    }\n  };\n  ImageViewer.prototype.componentDidUpdate = function (prevProps) {\n    if (this.props.centerOn && !prevProps.centerOn || this.props.centerOn && prevProps.centerOn && this.didCenterOnChange(prevProps.centerOn, this.props.centerOn)) {\n      this.centerOn(this.props.centerOn);\n    }\n  };\n  ImageViewer.prototype.imageDidMove = function (type) {\n    if (this.props.onMove) {\n      this.props.onMove({\n        type: type,\n        positionX: this.positionX,\n        positionY: this.positionY,\n        scale: this.scale,\n        zoomCurrentDistance: this.zoomCurrentDistance\n      });\n    }\n  };\n  ImageViewer.prototype.didCenterOnChange = function (params, paramsNext) {\n    return params.x !== paramsNext.x || params.y !== paramsNext.y || params.scale !== paramsNext.scale;\n  };\n  ImageViewer.prototype.centerOn = function (params) {\n    var _this = this;\n    this.positionX = params.x;\n    this.positionY = params.y;\n    this.scale = params.scale;\n    var duration = params.duration || 300;\n    react_native_1.Animated.parallel([react_native_1.Animated.timing(this.animatedScale, {\n      toValue: this.scale,\n      duration: duration,\n      useNativeDriver: !!this.props.useNativeDriver\n    }), react_native_1.Animated.timing(this.animatedPositionX, {\n      toValue: this.positionX,\n      duration: duration,\n      useNativeDriver: !!this.props.useNativeDriver\n    }), react_native_1.Animated.timing(this.animatedPositionY, {\n      toValue: this.positionY,\n      duration: duration,\n      useNativeDriver: !!this.props.useNativeDriver\n    })]).start(function () {\n      _this.imageDidMove('centerOn');\n    });\n  };\n  ImageViewer.prototype.handleLayout = function (event) {\n    if (this.props.layoutChange) {\n      this.props.layoutChange(event);\n    }\n  };\n  ImageViewer.prototype.reset = function () {\n    this.scale = 1;\n    this.animatedScale.setValue(this.scale);\n    this.positionX = 0;\n    this.animatedPositionX.setValue(this.positionX);\n    this.positionY = 0;\n    this.animatedPositionY.setValue(this.positionY);\n  };\n  ImageViewer.prototype.render = function () {\n    var animateConf = {\n      transform: [{\n        scale: this.animatedScale\n      }, {\n        translateX: this.animatedPositionX\n      }, {\n        translateY: this.animatedPositionY\n      }]\n    };\n    var parentStyles = react_native_1.StyleSheet.flatten(this.props.style);\n    return _reactJsxRuntime.jsx(react_native_1.View, _objectSpread(_objectSpread({\n      style: __assign(__assign(__assign({}, image_zoom_style_1.default.container), parentStyles), {\n        width: this.props.cropWidth,\n        height: this.props.cropHeight\n      })\n    }, this.imagePanResponder.panHandlers), {}, {\n      children: _reactJsxRuntime.jsx(react_native_1.Animated.View, {\n        style: animateConf,\n        renderToHardwareTextureAndroid: this.props.useHardwareTextureAndroid,\n        children: _reactJsxRuntime.jsx(react_native_1.View, {\n          onLayout: this.handleLayout.bind(this),\n          style: {\n            width: this.props.imageWidth,\n            height: this.props.imageHeight\n          },\n          children: this.props.children\n        })\n      })\n    }));\n  };\n  ImageViewer.defaultProps = new image_zoom_type_1.ImageZoomProps();\n  return ImageViewer;\n}(React.Component);\nexports.default = ImageViewer;","map":{"version":3,"mappings":"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","names":["__extends","_this","image_zoom_type_1","react_native_1","Value","create","onStartShouldSetPanResponder","props","onPanResponderTerminationRequest","onMoveShouldSetPanResponder","onPanResponderGrant","evt","lastPositionX","lastPositionY","zoomLastDistance","horizontalWholeCounter","verticalWholeCounter","lastTouchStartTime","Date","getTime","isDoubleClick","isLongPress","isHorizontalWrap","singleClickTimeout","clearTimeout","nativeEvent","changedTouches","length","centerX","pageX","centerDiffX","cropWidth","centerY","pageY","centerDiffY","cropHeight","longPressTimeout","locationX","locationY","setTimeout","onLongPress","longPressTime","lastClickTime","doubleClickInterval","doubleClickX","doubleClickY","onDoubleClick","enableDoubleClickZoom","scale","positionX","positionY","beforeScale","diffScale","imageDidMove","parallel","timing","animatedScale","toValue","duration","useNativeDriver","animatedPositionX","animatedPositionY","start","onPanResponderMove","gestureState","diffX","dx","diffY","dy","Math","abs","panToMove","swipeDownOffset","imageWidth","horizontalWholeOuterCounter","horizontalOuterRangeOffset","horizontalMax","setValue","maxOverflow","imageHeight","enableSwipeDown","pinchToZoom","minX","maxX","minY","maxY","widthDistance","heightDistance","diagonalDistance","sqrt","zoomCurrentDistance","Number","toFixed","distanceDiff","zoom","minScale","maxScale","onPanResponderRelease","moveDistance","clickDistance","onClick","responderRelease","vx","panResponderReleaseResolve","onPanResponderTerminate","swipeDownThreshold","onSwipeDown","enableCenterFocus","verticalMax","ImageViewer","centerOn","prevProps","didCenterOnChange","type","onMove","params","paramsNext","x","y","event","layoutChange","animateConf","transform","translateX","translateY","parentStyles","flatten","style","__assign","image_zoom_style_1","container","width","height","imagePanResponder","panHandlers","useHardwareTextureAndroid","handleLayout","bind","children","React","Component"],"sourceRoot":"","sources":["../../src/image-zoom/image-zoom.component.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}